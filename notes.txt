=== DNS ===
https://medium.com/swlh/register-an-external-domain-with-aws-api-gateway-using-an-aws-certificate-414a1568d162
https://docs.aws.amazon.com/apigateway/latest/developerguide/amazon-api-gateway-using-stage-variables.html


== Instruction ==
- Create a new API in API gateway
- Deploy it to some newly created stage (for example prod)
- Create new custom domain
  - Use default values
  - Create ACM certificate
- Create API mappings

== Notes for custom domain connection to AWS lambda endpoint ==
- To solve problem with issuing certificate add the following record to domain DNS
type: 'CAA'
value: '0 issue "amazon.com"'
name: ''

- To connect api subdomain add CNAME record, which points to special subdomain created for integration.
You can find it in API Gateway -> Custom domain names -> Select connected domain -> API Gateway domain name
It will be something like: d-mk1jnaiuh9.execute-api.eu-north-1.amazonaws.com

- You should also define API Mapping to make it work correctly. It's quite straightforward.
API Gateway -> Custom domain names -> Select connected domain -> Api mappings

- To solve problem with message {"message":"Missing Authentication Token"} you should configure a new API in API gateway instead of using the default one
